---
- include: merge_vars.yml

- include: setup_container.yml
  when:
    - containerized

- include: install_packages.yml
  when:
    - not containerized

- include: configure_firewall.yml

- include: configure_grafana.yml

- include: configure_dashboard.yml

- name: Print dashboard URL
  debug:
    msg: "The dashboard has been deployed! You can access your dashboard web UI at {{ protocol }}://{{ ansible_hostname }}:{{ dashboard.port }}/ as an '{{ dashboard.admin_user }}' user with '{{ dashboard.admin_password }}' password."
